import{l as s,B as v,_ as b,d as A,a as j,b as C,c as D,f as x,u as I,m as u,r as i,o as R,j as U,w as c,k as l,t as m,p as M,M as P,y as S}from"./index-39d45874.js";import{C as V}from"./clipboard-6108ee01.js";import{a as r,V as E}from"./index-2c86cef6.js";import{m as B,a as L,t as k,e as N}from"./ext-language_tools-824bb0b4.js";import{C as T}from"./CopyOutlined-1ad6fae4.js";var $={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};const J=$;function f(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},o=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),o.forEach(function(a){q(n,a,t[a])})}return n}function q(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var p=function(e,t){var o=f({},e,t.attrs);return s(v,f({},o,{icon:J}),null)};p.displayName="DownloadOutlined";p.inheritAttrs=!1;const z=p,H=""+new URL("mode-json5-ed4a693f.js",import.meta.url).href;r.config.setModuleUrl("ace/mode/json",B);r.config.setModuleUrl("ace/mode/json",H);r.config.setModuleUrl("ace/mode/xml",L);r.config.setModuleUrl("ace/theme/xcode",k);r.config.setModuleUrl("ace/ext-language/tools",N);const X={name:"Document",components:{editor:E,CopyOutlined:T,DownloadOutlined:z,EditorShow:A(()=>j(()=>import("./EditorShow-ca5e9aba.js"),["./EditorShow-ca5e9aba.js","./index-2c86cef6.js","./index-39d45874.js","..\\css\\index-7ef90919.css","./ext-language_tools-824bb0b4.js"],import.meta.url))},props:{api:{type:Object,required:!0},swaggerInstance:{type:Object,required:!0}},setup(){const n=C(),e=D(()=>n.language),{messages:t}=x();return{language:e,messages:t}},data(){return{openApiRaw:"",name:"OpenAPI.json"}},created(){this.openApiRaw=I.json5stringify(this.api.openApiRaw),this.name=this.api.summary+"_OpenAPI.json",setTimeout(()=>{this.copyOpenApi()},500)},methods:{getCurrentI18nInstance(){return this.messages[this.language]},triggerDownloadOpen(){var n=this.openApiRaw,e=document.createElement("a"),t={},o=this.name,a=window.URL.createObjectURL(new Blob([n],{type:(t.type||"text/plain")+";charset="+(t.encoding||"utf-8")}));e.href=a,e.download=o||"file",e.click(),window.URL.revokeObjectURL(a)},copyOpenApi(){const n="btnCopyOpenApi"+this.api.id,e=new V("#"+n,{text:()=>this.openApiRaw});e.on("success",()=>{const o=this.getCurrentI18nInstance().message.copy.open.success;u.info(o)}),e.on("error",t=>{console.log(t);const o=this.getCurrentI18nInstance();console.log(o);const a=o.message.copy.open.fail;u.info(a)})}}},G={class:"document"},F={style:{"margin-top":"10px"},id:"knife4jDocumentOpenApiShowEditor"};function Q(n,e,t,o,a,g){const w=i("CopyOutlined"),d=P,_=i("DownloadOutlined"),O=S,h=i("editor-show");return R(),U("div",G,[s(O,{style:{"margin-top":"10px"}},{default:c(()=>[s(d,{type:"primary",id:"btnCopyOpenApi"+t.api.id},{default:c(()=>[s(w),l("span",null,m(n.$t("open.copy")),1)]),_:1},8,["id"]),s(d,{style:{"margin-left":"10px"},onClick:g.triggerDownloadOpen},{default:c(()=>[s(_),e[1]||(e[1]=M()),l("span",null,m(n.$t("open.download")),1)]),_:1},8,["onClick"])]),_:1}),l("div",F,[s(h,{value:a.openApiRaw,"onUpdate:value":e[0]||(e[0]=y=>a.openApiRaw=y),theme:"xcode"},null,8,["value"])])])}const te=b(X,[["render",Q]]);export{te as default};
